<h3 translate="Choose a project name"></h3>

<form ng-submit="addProject()">
    <div class="form-group">
        <input type="text" class="form-control" data-ng-model="newProject.projectName"
            set-focus="!newProjectCollapsed" maxlength="50" required placeholder="Project Name"
            idle-validate="checkProjectCode()" idle-validate-keypress="resetValidateProjectForm()"/>
    </div>
    <br />
    <div class="form-group">
        <label class="control-label text-muted" translate="Project Code"></label>
        <input type="text" class="form-control" data-ng-model="newProject.projectCode" data-ng-show="newProject.editProjectCode"
               data-ng-trim="false" maxlength="50" required
               idle-validate="checkProjectCode()" idle-validate-keypress="resetValidateProjectForm()"/>
        <div class="uneditable-input" data-ng-hide="newProject.editProjectCode"
            data-ng-hide="newProject.editProjectCode"
            data-ng-bind="newProject.projectCode"></div>
        <span  data-ng-show="newProject.projectCode.length > 0">
            <span  data-ng-show="projectCodeState == 'loading'">
                <img id="projectCodeLoading" class="validator" src="/images/shared/loading-small.gif" /></span>
            <span  data-ng-show="projectCodeState == 'exists'">
                <img id="projectCodeExists" class="validator" src="/images/shared/exclamation.png"
                     title="Project Code already exists!" /></span>
            <span  data-ng-show="projectCodeState == 'invalid'">
                <img id="projectCodeAlphanumeric" class="validator" src="/images/shared/exclamation.png"
                     title="" /></span>
            <span  data-ng-show="projectCodeState == 'ok'">
                <img id="projectCodeOk" class="validator" src="/images/shared/tick.png"
                     title="Project Code is available!" /></span>
        </span>
    </div>
    <div class="checkbox">
        <label>
            <input type="checkbox" data-ng-model="newProject.editProjectCode"/>
            {{'Edit project code' | translate}}
            <p class="text-muted">(Not usually necessary)</p>
        </label>
    </div>
    <button type="submit" class="btn btn-primary" data-ng-disabled="isSubmitting">Create Project</button>
    <div class="alert alert-danger" ng-show="projectCodeState == 'invalid'">Project Code must begin with a letter, and only contain lower-case letters, numbers, dashes and underscores!</div>
    <div class="alert alert-danger" ng-show="projectCodeState == 'exists'">Project Code already exists!</div>
    <div class="alert alert-danger" ng-show="projectCodeState == 'empty'">The Project Code cannot be empty</div>
</form>
